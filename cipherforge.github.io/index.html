<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CipherForge üîí - Secure File Encryption</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Favicon (regular browser tabs) -->
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    
    <!-- Apple Touch Icons (for iOS home screen) -->
    <link rel="apple-touch-icon" href="assets/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="192x192" href="assets/icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="assets/icon-512.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="assets/manifest.json">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#1a1a2e">
</head>
<body>
    <!-- Warning Modal -->
    <div id="warningModal" class="modal">
        <div class="modal-content">
            <div class="warning-header">
                ‚ö†Ô∏è CRITICAL WARNING
            </div>
            <div class="warning-body">
                <p><strong>THIS TOOL IS FOR EDUCATIONAL PURPOSES ONLY!</strong></p>
                <p>DO NOT USE FOR MALICIOUS ACTIVITIES OR ILLEGAL PURPOSES</p>
                <p>DEVELOPER IS NOT RESPONSIBLE FOR YOUR ACTIONS!</p>
                
                <div class="warning-points">
                    <p>üî¥ <strong>ENCRYPTION CAN BE IRREVERSIBLE WITHOUT PASSWORD!</strong></p>
                    <p>üî¥ <strong>SAVE YOUR PASSWORD SECURELY - CANNOT BE RECOVERED!</strong></p>
                    <p>üî¥ <strong>DEVELOPER IS NOT RESPONSIBLE FOR LOST PASSWORDS OR FILES</strong></p>
                </div>
                
                <p class="warning-note">Encrypted files will be saved as copies. Original files remain untouched.</p>
            </div>
            <div class="modal-footer">
                <button id="acceptBtn" class="btn btn-danger">I UNDERSTAND AND ACCEPT</button>
                <button id="declineBtn" class="btn btn-secondary">DECLINE AND EXIT</button>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div id="mainContainer" class="container hidden">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">
                <span class="logo-icon">üîí</span>
                CipherForge
            </h1>
            <p class="tagline">Secure File Encryption in Your Browser</p>
        </header>

        <!-- Mode Selection -->
        <div class="mode-selector">
            <button id="encryptBtn" class="mode-btn active">
                <span class="mode-icon">üîí</span>
                Encrypt File
            </button>
            <button id="decryptBtn" class="mode-btn">
                <span class="mode-icon">üîì</span>
                Decrypt File
            </button>
        </div>

        <!-- File Upload Area -->
        <div class="upload-area" id="uploadArea">
            <input type="file" id="fileInput" class="hidden">
            <div class="upload-box" id="uploadBox">
                <span class="upload-icon">üìÅ</span>
                <h3>Drop your file here or click to browse</h3>
                <p class="upload-subtitle">Supports any file type</p>
                <p class="file-size-note">Max file size: 2GB</p>
            </div>
            <div class="file-info hidden" id="fileInfo">
                <p><strong>Selected File:</strong> <span id="fileName"></span></p>
                <p><strong>Size:</strong> <span id="fileSize"></span></p>
                <button id="clearFileBtn" class="btn btn-small">Clear</button>
            </div>
        </div>

        <!-- Password Section -->
        <div class="password-section">
            <div class="password-options">
                <div class="option-group">
                    <label>
                        <input type="radio" name="passwordOption" value="custom" checked>
                        <span>Use my own password</span>
                    </label>
                    <label>
                        <input type="radio" name="passwordOption" value="generate">
                        <span>Generate random password</span>
                    </label>
                </div>
            </div>

            <!-- Custom Password -->
            <div id="customPasswordSection">
                <div class="input-group">
                    <input type="password" id="passwordInput" placeholder="Enter password (min 8 characters)">
                    <button id="togglePasswordBtn" class="btn-icon">üëÅÔ∏è</button>
                </div>
                <div class="input-group">
                    <input type="password" id="confirmPasswordInput" placeholder="Confirm password">
                </div>
                <div class="password-strength" id="passwordStrength">
                    <div class="strength-bar"></div>
                    <span class="strength-text">Password strength: Weak</span>
                </div>
            </div>

            <!-- Generated Password -->
            <div id="generatedPasswordSection" class="hidden">
                <div class="generated-password-box">
                    <code id="generatedPassword"></code>
                    <button id="copyPasswordBtn" class="btn btn-small">üìã Copy</button>
                    <button id="regenerateBtn" class="btn btn-small">üîÑ Regenerate</button>
                </div>
                <div class="password-stats">
                    <span>Length: <strong id="passwordLength">24</strong> chars</span>
                    <span>Contains: Upper, Lower, Numbers, Symbols</span>
                </div>
                <div class="warning-box">
                    ‚ö†Ô∏è <strong>CRITICAL:</strong> Save this password! It cannot be recovered if lost!
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button id="processBtn" class="btn btn-primary" disabled>
                <span class="btn-icon">üîí</span>
                <span class="btn-text">Encrypt File</span>
            </button>
            <button id="cancelBtn" class="btn btn-secondary hidden">
                Cancel
            </button>
        </div>

        <!-- Progress Section -->
        <div class="progress-section hidden" id="progressSection">
            <div class="progress-header">
                <h3>Processing...</h3>
                <span id="progressPercent">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-details">
                <p>Status: <span id="progressStatus">Initializing...</span></p>
                <p>Processed: <span id="processedBytes">0</span> of <span id="totalBytes">0</span> bytes</p>
                <p>Speed: <span id="processingSpeed">0 MB/s</span></p>
            </div>
        </div>

        <!-- Result Section -->
        <div class="result-section hidden" id="resultSection">
            <div class="result-success" id="successResult">
                <div class="result-icon">‚úÖ</div>
                <h3>Success!</h3>
                <p id="resultMessage"></p>
                <div class="result-actions">
                    <button id="downloadBtn" class="btn btn-primary">üì• Download File</button>
                    <button id="newFileBtn" class="btn btn-secondary">üîÅ Process Another File</button>
                </div>
            </div>
            <div class="result-error" id="errorResult">
                <div class="result-icon">‚ùå</div>
                <h3>Error</h3>
                <p id="errorMessage"></p>
                <button id="tryAgainBtn" class="btn btn-primary">Try Again</button>
            </div>
        </div>

        <!-- Information Section -->
        <div class="info-section">
            <details>
                <summary>üîê Encryption Methods Used</summary>
                <div class="info-content">
                    <h4>Security Features:</h4>
                    <ul>
                        <li><strong>Algorithm:</strong> AES-GCM (256-bit)</li>
                        <li><strong>Key Derivation:</strong> PBKDF2 with 100,000 iterations</li>
                        <li><strong>Salt:</strong> Unique 256-bit salt per file</li>
                        <li><strong>Integrity:</strong> Built-in authentication tags</li>
                        <li><strong>Processing:</strong> Chunk-by-chunk for large files</li>
                    </ul>
                    <p><strong>‚ö†Ô∏è Important:</strong> Without the correct password, decryption is mathematically impossible.</p>
                </div>
            </details>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>CipherForge Web Edition | GitHub: <a href="https://github.com/gtk-gg" target="_blank">@gtk-gg</a></p>
            <p class="disclaimer">For educational purposes only. Use responsibly.</p>
        </footer>
    </div>

    <script src="crypto.js"></script>
    <script src="ui.js"></script>
    <script src="app.js"></script>
</body>
</html>
